<?xml version="1.0" encoding="UTF-8"?>
<hazelcast xmlns="http://www.hazelcast.com/schema/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.hazelcast.com/schema/config http://www.hazelcast.com/schema/config/hazelcast-config-3.3.xsd"> 
	
	<!-->group>
		<name>${username}</name>
		<password>${password}</password>
	</group-->

	<properties>
		<property name="hazelcast.jmx">true</property>
		<property name="hazelcast.jmx.detailed">true</property>
		<property name="hazelcast.logging.type">slf4j</property>
	</properties>

	<network>
		<port>${hz.server.port}</port>
		<join>
			<multicast enabled="false"/>
			<tcp-ip enabled="true">
				<members>localhost</members>
			</tcp-ip>
		</join>
	</network>

	<executor-service name="xdm-exec-pool">
		<statistics-enabled>true</statistics-enabled>
		<pool-size>${hz.pool.size}</pool-size>
	</executor-service>
	 
	<map name="dict-namespace">
		<near-cache/>
	</map>
	<map name="dict-path">
		<near-cache/>
		<indexes>
			<index>typeId</index> 
			<index ordered="true">path</index>
		</indexes>
	</map>
	<map name="dict-document-type">
		<near-cache/>
	</map>
	<map name="xdm-element">
		<!--indexes>
			<index>documentId</index>
			<index ordered="true">pathId</index>
			<index>value</index>
		</indexes-->
	</map>
	<map name="xdm-document"/>

	<serialization>
		<!--portable-version>0</portable-version-->
		<data-serializable-factories>
			<data-serializable-factory factory-id="2">com.bagri.xdm.access.hazelcast.pof.XDMDataSerializationFactory</data-serializable-factory>
		</data-serializable-factories>
		<portable-factories>
			<portable-factory factory-id="1">com.bagri.xdm.access.hazelcast.pof.XDMPortableFactory</portable-factory>
		</portable-factories>
		<serializers>
			<!--hz:global-serializer class-name="com.hazelcast.nio.serialization.PortableSerializer"/-->
			<serializer type-class="com.bagri.xdm.domain.XDMElement" class-name="com.bagri.xdm.access.hazelcast.pof.XDMElementSerializer"/>
			<serializer type-class="com.bagri.xdm.domain.XDMElements" class-name="com.bagri.xdm.access.hazelcast.pof.XDMElementsSerializer"/>
			<serializer type-class="com.bagri.xdm.domain.XDMPath" class-name="com.bagri.xdm.access.hazelcast.pof.XDMPathSerializer"/>
			<serializer type-class="com.bagri.xdm.domain.XDMDocument" class-name="com.bagri.xdm.access.hazelcast.pof.XDMDocumentSerializer"/>
			<serializer type-class="com.bagri.xdm.domain.XDMDocumentType" class-name="com.bagri.xdm.access.hazelcast.pof.XDMDocumentTypeSerializer"/>
			<serializer type-class="com.bagri.xdm.domain.XDMNamespace" class-name="com.bagri.xdm.access.hazelcast.pof.XDMNamespaceSerializer"/>
			<serializer type-class="com.bagri.xdm.domain.XDMQuery" class-name="com.bagri.xdm.access.hazelcast.pof.XDMQuerySerializer"/>
			<serializer type-class="com.bagri.xdm.domain.XDMResults" class-name="com.bagri.xdm.access.hazelcast.pof.XDMResultsSerializer"/>
			<serializer type-class="com.bagri.xdm.access.hazelcast.impl.HazelcastXQCursor" class-name="com.bagri.xdm.access.hazelcast.pof.XDMCursorSerializer"/>
			<serializer type-class="com.bagri.xqj.BagriXQItem" class-name="com.bagri.xdm.access.hazelcast.pof.XQItemSerializer"/>
			<serializer type-class="com.bagri.xqj.BagriXQItemType" class-name="com.bagri.xdm.access.hazelcast.pof.XQItemTypeSerializer"/>
			<serializer type-class="com.bagri.common.query.Expression" class-name="com.bagri.xdm.access.hazelcast.pof.ExpressionSerializer"/>
			<serializer type-class="com.bagri.common.query.PathExpression" class-name="com.bagri.xdm.access.hazelcast.pof.ExpressionSerializer"/>
			<serializer type-class="com.bagri.common.query.BinaryExpression" class-name="com.bagri.xdm.access.hazelcast.pof.ExpressionSerializer"/>
			<serializer type-class="com.bagri.common.query.ExpressionBuilder" class-name="com.bagri.xdm.access.hazelcast.pof.ExpressionBuilderSerializer"/>
			<serializer type-class="com.bagri.common.query.PathBuilder" class-name="com.bagri.xdm.access.hazelcast.pof.PathBuilderSerializer"/>
			<serializer type-class="com.bagri.common.query.ExpressionContainer" class-name="com.bagri.xdm.access.hazelcast.pof.ExpressionContainerSerializer"/>
		</serializers>
	</serialization>
	
</hazelcast>